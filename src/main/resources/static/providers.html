<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Provider Directory</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    
    <!-- bootstrap needs some JS to do its thing -->
    <script src="jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    
    <script type="text/javascript">
		function ConvertFormToJSON(form) {
	    	var array = jQuery(form).serializeArray();
	    	var json = {};
    		
	    	jQuery.each(array, function() {
    	    	json[this.name] = this.value || '';
    		});
    		
    		return json;
		}
		
		jQuery(document).on('ready', function() {
   			jQuery('form#create_provider').bind('submit', function(event) {
        		event.preventDefault();
				
        		var form = this;
        		var json = ConvertFormToJSON(form);
        		
        		alert(json)
				
        		$.ajax({
            		type: "POST",
            		url: "providers",
            		data: json,
            		dataType: "json"
        		}).fail(function() { 
					alert("Failed to add to-do");
				});
    		});
		});
	</script>
</head>
<body>
	<div class="container-fluid">
		<h1>Provider Directory</h1>
		<p>v2.0</p>
		<div class="row">
			<div class="col-4">
				<h5>Create Provider</h5>
				<form id="create_provider">
					<label for="last_name">Last Name</label>
					<div class="col-2">
      					<input type="text" id="last_name"><br/>
      				</div>
					<label for="first_name">First Name</label>
					<div class="col-2"> 
      					<input type="text" id="first_name"><br/>
      				</div>
      				<label for="email_address">Email Address</label>
      				<div class="col-2">
      					<input type="text" id="email_address"><br/>
      				</div>
      				<label for="specialty">Specialty</label>
      				<div class="col-2">
      					<input type="text" id="specialty"></br>
      				</div>
      				<label for="practice_name">Practice Name</label>
      				<div class="col-2">
      					<input type="text" id="practice_name"><br/>
      				</div>
      				<br/>
      				<input type="submit" value="Submit">
				</form>
			</div>
			<div class="col-6">
				<!-- Provider List container -->
				<div class="row">
					<div class="col-sm">
						<h5>Provider List</h5>
					</div>
					<div class="col-sm">
						<select name="sort">
							<option value="sort" disabled selected>Sort By...</option>
							<option value="first_name">First Name</option>
							<option value="last_name">Last Name</option>
							<option value="email_address">Email Address</option>
							<option value="specialty">Specialty</option>
							<option value="practice_name">Practice Name</option>
						</select>
					</div>
				</div>
				<!-- provider list table -->
				<div class="container-fluid">
					<table class="table-borderless">
						<tbody>
							<!-- need to iterate rows from the JSON data -->
							<tr>
								<th scope="row" class="col-1"><input type="checkbox"/></th>
								<td class="col-7">
									<b>Last Name, First Name</b>
								</td>
								<td class="col-2" align="right">
									<b>Specialty</b>
								</td>
							</tr>
							<tr>
								<!-- alignment placeholder -->
								<th scope="row" class="col-1"/>
								<td class="class="col-5">email@example.com</td>
								<td class="col-4" align="right">Practice Name</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</body>
</html>